<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

    <title>User Register</title>
    <link rel="stylesheet" href="/static/css/navbar.css">
</head>

<body>

    <nav>
        <a class="home-link " href="/">Ticket Show App</a>
        <a class="products-link " href="/">Sports</a>
        <a class="products-link " href="/">Events</a>
        <a class="products-link " href="/">Movies</a>
        <a class="products-link " href="/">Venues</a>
        <a class="products-link " href="/">Events</a>


        <div class="right-links">


            <a href="/user_login" class="active">User Login/Register</a>
            <a href="/admin_login">Admin Login</a>

        </div>
    </nav>



    <div class="container text-center" >


        <div class="row" style="margin-top: 50px;">
            <div class="col-md-12">

                <h2>User Register</h2><br>
                <form action="/user_register" method="post" height="50%" width="40%"
                    onsubmit="return validate_username_password()">

                    <label for="user_name">Username: </label>
                    <input type="" name="u_name" placeholder="enter the first name" id="u_name" required><br><br>

                    <label for="pswd">Password: </label>
                    <input type="password" name="u_password" id="u_password" placeholder="set a strong password" required><br><br>

                    <label for="email">User Email: </label>
                    <input type="email" name="u_email" id="u_email_regis" placeholder="ABCD@xyz.com"><br><br>

                    <!-- <label>is admin ? </label>
                    <input type="checkbox" name="acc_type" value="admin" />
                    <label>Yes</label>
                    <input type="checkbox" name="acc_type" value="user"  checked    />
                    <label>No</label><br><br> -->

                    <input type="submit" value="Register" style="color: rgb(249, 17, 17);"><br><br>

                </form>

                <div id="error" style="color: red;"></div>


            </div>
        </div>
    </div>

    <script>
        function validate_username_password() {
            let username = document.getElementById("u_name").value;
            let password = document.getElementById("u_password").value;

            var username_reg_ex = /^[a-zA-Z][a-zA-Z0-9_]{5,}$/;
            if (!username_reg_ex.test(username)) {
                document.getElementById("error").innerHTML = "Invalid username. Please enter a username with at least 6 characters containing only letters, numbers and underscore, and the first character cannot be a digit.";
                return false;
            }

            var password_reg_exp = /^[$#@]{8,10}$/;

            if (!password_reg_exp.test(password)) {
                document.getElementById("error").innerHTML = "Invalid password. Please enter a password with at least 8 character and a special character.";
                return false;
            }
            return true;
        }
    </script>

</body>

</html>